
var __cov_v45J3mYBT_Gk3D10yLMMfw = (Function('return this'))();
if (!__cov_v45J3mYBT_Gk3D10yLMMfw.__coverage__) { __cov_v45J3mYBT_Gk3D10yLMMfw.__coverage__ = {}; }
__cov_v45J3mYBT_Gk3D10yLMMfw = __cov_v45J3mYBT_Gk3D10yLMMfw.__coverage__;
if (!(__cov_v45J3mYBT_Gk3D10yLMMfw['build/moodle-assignfeedback_recitannotation-button/moodle-assignfeedback_recitannotation-button.js'])) {
   __cov_v45J3mYBT_Gk3D10yLMMfw['build/moodle-assignfeedback_recitannotation-button/moodle-assignfeedback_recitannotation-button.js'] = {"path":"build/moodle-assignfeedback_recitannotation-button/moodle-assignfeedback_recitannotation-button.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":56},"end":{"line":1,"column":75}}},"2":{"name":"(anonymous_2)","line":34,"loc":{"start":{"line":34,"column":10},"end":{"line":34,"column":51}}},"3":{"name":"(anonymous_3)","line":43,"loc":{"start":{"line":43,"column":22},"end":{"line":43,"column":38}}},"4":{"name":"(anonymous_4)","line":58,"loc":{"start":{"line":58,"column":49},"end":{"line":58,"column":59}}},"5":{"name":"(anonymous_5)","line":62,"loc":{"start":{"line":62,"column":49},"end":{"line":62,"column":59}}},"6":{"name":"(anonymous_6)","line":66,"loc":{"start":{"line":66,"column":56},"end":{"line":66,"column":66}}},"7":{"name":"(anonymous_7)","line":70,"loc":{"start":{"line":70,"column":48},"end":{"line":70,"column":58}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":78,"column":48}},"2":{"start":{"line":23,"column":0},"end":{"line":23,"column":74}},"3":{"start":{"line":24,"column":0},"end":{"line":75,"column":2}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":74}},"5":{"start":{"line":36,"column":8},"end":{"line":36,"column":74}},"6":{"start":{"line":37,"column":8},"end":{"line":37,"column":66}},"7":{"start":{"line":39,"column":8},"end":{"line":39,"column":72}},"8":{"start":{"line":40,"column":8},"end":{"line":40,"column":72}},"9":{"start":{"line":44,"column":8},"end":{"line":44,"column":31}},"10":{"start":{"line":47,"column":8},"end":{"line":50,"column":9}},"11":{"start":{"line":48,"column":12},"end":{"line":48,"column":42}},"12":{"start":{"line":49,"column":12},"end":{"line":49,"column":19}},"13":{"start":{"line":52,"column":8},"end":{"line":52,"column":24}},"14":{"start":{"line":53,"column":8},"end":{"line":53,"column":93}},"15":{"start":{"line":54,"column":8},"end":{"line":54,"column":149}},"16":{"start":{"line":56,"column":8},"end":{"line":56,"column":44}},"17":{"start":{"line":58,"column":8},"end":{"line":60,"column":9}},"18":{"start":{"line":59,"column":12},"end":{"line":59,"column":40}},"19":{"start":{"line":62,"column":8},"end":{"line":64,"column":9}},"20":{"start":{"line":63,"column":12},"end":{"line":63,"column":40}},"21":{"start":{"line":66,"column":8},"end":{"line":68,"column":9}},"22":{"start":{"line":67,"column":12},"end":{"line":67,"column":47}},"23":{"start":{"line":70,"column":8},"end":{"line":73,"column":9}},"24":{"start":{"line":71,"column":12},"end":{"line":71,"column":42}},"25":{"start":{"line":72,"column":12},"end":{"line":72,"column":37}}},"branchMap":{"1":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":35},"end":{"line":23,"column":67}},{"start":{"line":23,"column":71},"end":{"line":23,"column":73}}]},"2":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":47,"column":8}},{"start":{"line":47,"column":8},"end":{"line":47,"column":8}}]},"3":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":11},"end":{"line":47,"column":41}},{"start":{"line":47,"column":45},"end":{"line":47,"column":74}}]}},"code":["(function () { YUI.add('moodle-assignfeedback_recitannotation-button', function (Y, NAME) {","","// This file is part of Moodle - http://moodle.org/","//","// Moodle is free software: you can redistribute it and/or modify","// it under the terms of the GNU General Public License as published by","// the Free Software Foundation, either version 3 of the License, or","// (at your option) any later version.","//","// Moodle is distributed in the hope that it will be useful,","// but WITHOUT ANY WARRANTY; without even the implied warranty of","// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the","// GNU General Public License for more details.","//","// You should have received a copy of the GNU General Public License","// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.","","/**"," * @package    assignfeedback_recitannotation"," * @copyright  2025 RECIT"," * @license    {@link http://www.gnu.org/licenses/gpl-3.0.html} GNU GPL v3 or later"," */","M.assignfeedback_recitannotation = M.assignfeedback_recitannotation || {};","M.assignfeedback_recitannotation.recitannotation = {","    globalVars: {","        popup: null,","        contextData: {","            assignment: 0,","            submission: 0,","            userid: 0","        }","    },","","    init: function(assignment, submission, userid) {","        this.globalVars.contextData.assignment = parseInt(assignment, 10);","        this.globalVars.contextData.submission = parseInt(submission, 10);","        this.globalVars.contextData.userid = parseInt(userid, 10);","","        let btn = window.document.getElementById('btn-annotation-tool');","        btn.addEventListener('click', this.openAnnotateTool.bind(this));","    },","","    openAnnotateTool: function(event) {","        event.preventDefault();","","        // if the reference exists and the window is not closed so we can bring it to the front with the method focus() method without having to recreate the window","        if(this.globalVars.popup !== null && !this.globalVars.popup.closed){","            this.globalVars.popup.focus();","            return;","        }","","        let that = this;","        let url = M.cfg.wwwroot + \"/mod/assign/feedback/recitannotation/annotation_tool.php\";","        this.globalVars.popup = window.open(url,'RÉCIT Annotation',`width=${screen.availWidth},height=${screen.availHeight},scrollbars=1,menubar=0`);","","        this.globalVars.popup.IWrapper = {};","        ","        this.globalVars.popup.IWrapper.sesskey = function(){","            return window.M.cfg.sesskey;","        }","","        this.globalVars.popup.IWrapper.wwwroot = function(){","            return window.M.cfg.wwwroot;","        }","","        this.globalVars.popup.IWrapper.getContextData = function(){","            return that.globalVars.contextData;","        }","","        this.globalVars.popup.IWrapper.update = function(){","            that.globalVars.popup.close();","            window.location.reload();","        }","    }","};","","","}, '@VERSION@', {\"requires\": [\"base\", \"node\"]});","","}());"]};
}
__cov_v45J3mYBT_Gk3D10yLMMfw = __cov_v45J3mYBT_Gk3D10yLMMfw['build/moodle-assignfeedback_recitannotation-button/moodle-assignfeedback_recitannotation-button.js'];
__cov_v45J3mYBT_Gk3D10yLMMfw.s['1']++;YUI.add('moodle-assignfeedback_recitannotation-button',function(Y,NAME){__cov_v45J3mYBT_Gk3D10yLMMfw.f['1']++;__cov_v45J3mYBT_Gk3D10yLMMfw.s['2']++;M.assignfeedback_recitannotation=(__cov_v45J3mYBT_Gk3D10yLMMfw.b['1'][0]++,M.assignfeedback_recitannotation)||(__cov_v45J3mYBT_Gk3D10yLMMfw.b['1'][1]++,{});__cov_v45J3mYBT_Gk3D10yLMMfw.s['3']++;M.assignfeedback_recitannotation.recitannotation={globalVars:{popup:null,contextData:{assignment:0,submission:0,userid:0}},init:function(assignment,submission,userid){__cov_v45J3mYBT_Gk3D10yLMMfw.f['2']++;__cov_v45J3mYBT_Gk3D10yLMMfw.s['4']++;this.globalVars.contextData.assignment=parseInt(assignment,10);__cov_v45J3mYBT_Gk3D10yLMMfw.s['5']++;this.globalVars.contextData.submission=parseInt(submission,10);__cov_v45J3mYBT_Gk3D10yLMMfw.s['6']++;this.globalVars.contextData.userid=parseInt(userid,10);__cov_v45J3mYBT_Gk3D10yLMMfw.s['7']++;let btn=window.document.getElementById('btn-annotation-tool');__cov_v45J3mYBT_Gk3D10yLMMfw.s['8']++;btn.addEventListener('click',this.openAnnotateTool.bind(this));},openAnnotateTool:function(event){__cov_v45J3mYBT_Gk3D10yLMMfw.f['3']++;__cov_v45J3mYBT_Gk3D10yLMMfw.s['9']++;event.preventDefault();__cov_v45J3mYBT_Gk3D10yLMMfw.s['10']++;if((__cov_v45J3mYBT_Gk3D10yLMMfw.b['3'][0]++,this.globalVars.popup!==null)&&(__cov_v45J3mYBT_Gk3D10yLMMfw.b['3'][1]++,!this.globalVars.popup.closed)){__cov_v45J3mYBT_Gk3D10yLMMfw.b['2'][0]++;__cov_v45J3mYBT_Gk3D10yLMMfw.s['11']++;this.globalVars.popup.focus();__cov_v45J3mYBT_Gk3D10yLMMfw.s['12']++;return;}else{__cov_v45J3mYBT_Gk3D10yLMMfw.b['2'][1]++;}__cov_v45J3mYBT_Gk3D10yLMMfw.s['13']++;let that=this;__cov_v45J3mYBT_Gk3D10yLMMfw.s['14']++;let url=M.cfg.wwwroot+'/mod/assign/feedback/recitannotation/annotation_tool.php';__cov_v45J3mYBT_Gk3D10yLMMfw.s['15']++;this.globalVars.popup=window.open(url,'RÉCIT Annotation',`width=${screen.availWidth},height=${screen.availHeight},scrollbars=1,menubar=0`);__cov_v45J3mYBT_Gk3D10yLMMfw.s['16']++;this.globalVars.popup.IWrapper={};__cov_v45J3mYBT_Gk3D10yLMMfw.s['17']++;this.globalVars.popup.IWrapper.sesskey=function(){__cov_v45J3mYBT_Gk3D10yLMMfw.f['4']++;__cov_v45J3mYBT_Gk3D10yLMMfw.s['18']++;return window.M.cfg.sesskey;};__cov_v45J3mYBT_Gk3D10yLMMfw.s['19']++;this.globalVars.popup.IWrapper.wwwroot=function(){__cov_v45J3mYBT_Gk3D10yLMMfw.f['5']++;__cov_v45J3mYBT_Gk3D10yLMMfw.s['20']++;return window.M.cfg.wwwroot;};__cov_v45J3mYBT_Gk3D10yLMMfw.s['21']++;this.globalVars.popup.IWrapper.getContextData=function(){__cov_v45J3mYBT_Gk3D10yLMMfw.f['6']++;__cov_v45J3mYBT_Gk3D10yLMMfw.s['22']++;return that.globalVars.contextData;};__cov_v45J3mYBT_Gk3D10yLMMfw.s['23']++;this.globalVars.popup.IWrapper.update=function(){__cov_v45J3mYBT_Gk3D10yLMMfw.f['7']++;__cov_v45J3mYBT_Gk3D10yLMMfw.s['24']++;that.globalVars.popup.close();__cov_v45J3mYBT_Gk3D10yLMMfw.s['25']++;window.location.reload();};}};},'@VERSION@',{'requires':['base','node']});
